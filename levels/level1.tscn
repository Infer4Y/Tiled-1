[gd_scene load_steps=8 format=2]

[ext_resource path="res://model/meshmodel.meshlib" type="MeshLibrary" id=1]
[ext_resource path="res://model/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://model/portal_trig.tres" type="PrismMesh" id=3]
[ext_resource path="res://scripts/Portal.gd" type="Script" id=4]

[sub_resource type="PhysicsMaterial" id=1]
friction = 0.01
bounce = 10.0

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 50, -1, 50, 50, -1, -50, -50, -1, -50, -50, -1, 50, -49, 0, 49, -49, 0, -49, 49, 0, -49, 49, 0, 49 )

[sub_resource type="CylinderShape" id=3]
radius = 5.0
height = 1.0

[node name="Spatial" type="Spatial"]
transform = Transform( -4.37114e-008, 0, 1, 0, 1, 0, -1, 0, -4.37114e-008, 0, 0, 0 )

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource( 1 )
data = {
"cells": PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 1, 65533, 0, 655361, 65534, 0, 0, 65535, 0, 0, 131072, 0, 1441794, 196607, 0, 655362, -851968, 0, 1114112, -851967, 0, 1114112, -851966, 0, 1114112, -851965, 0, 1114112, -851964, 0, 1507328, -851963, 0, 1310720, -851962, 0, 1, -851956, 0, 655361, -851955, 0, 655360, -786439, 0, 655361, -786438, 0, 1114112, -786437, 0, 1114112, -786436, 0, 1114112, -786435, 0, 1114112, -786434, 0, 1114112, -786433, 0, 1114112, -786432, 0, 196608, -786431, 0, 196608, -786430, 0, 196608, -786429, 0, 1, -720900, 0, 655361, -720899, 0, 196608, -720898, 0, 196608, -720897, 0, 196608, -589822, 0, 196608, -524291, 0, 196608, -524288, 0, 196608, -524287, 0, 196608, -524286, 0, 196608, -524275, 0, 983040, -458755, 0, 196608, -458754, 0, 196608, -458753, 0, 196608, -327678, 0, 1376256, -262147, 0, 196608, -262144, 0, 0, -262143, 0, 0, -262142, 0, 0, -196611, 0, 0, -196610, 0, 0, -196609, 0, 0, -65534, 0, 0, -3, 0, 0, 0, 1, 0, 1, 1, 0, 2, 1, 1, 65533, 1, 655361, 65534, 1, 0, 65535, 1, 0, 65537, 1, 1441794, 131070, 1, 655362, -851968, 1, 1114112, -851967, 1, 1114112, -851966, 1, 1114112, -851965, 1, 1114112, -851964, 1, 1507328, -851963, 1, 1507328, -851962, 1, 1, -851956, 1, 655361, -851955, 1, 655360, -786439, 1, 655361, -786438, 1, 1114112, -786437, 1, 1114112, -786436, 1, 1114112, -786435, 1, 1114112, -786434, 1, 1114112, -786433, 1, 1114112, -786432, 1, 196608, -786431, 1, 196608, -786430, 1, 0, -786429, 1, 1, -786419, 1, 1048577, -720900, 1, 655361, -720899, 1, 196608, -720898, 1, 196608, -720897, 1, 196608, -589822, 1, 196608, -589811, 1, 983041, -524291, 1, 196608, -524288, 1, 196608, -524287, 1, 196608, -524286, 1, 196608, -524275, 1, 983040, -458755, 1, 196608, -458754, 1, 196608, -458753, 1, 196608, -327678, 1, 1376256, -262147, 1, 196608, -262144, 1, 0, -262143, 1, 0, -262142, 1, 0, -196611, 1, 0, -196610, 1, 0, -196609, 1, 0, -65534, 1, 0, -3, 1, 0, 0, 2, 1441793, 1, 2, 1441793, 2, 2, 1441794, 65533, 2, 655362, 65534, 2, 1441793, 65535, 2, 1441793, -851968, 2, 1114112, -851967, 2, 1114112, -851966, 2, 1114112, -851965, 2, 1114112, -851964, 2, 1507328, -851963, 2, 1507328, -851962, 2, 1507328, -851955, 2, 1310721, -786439, 2, 720896, -786438, 2, 1114112, -786437, 2, 1114112, -786436, 2, 1114112, -786435, 2, 1114112, -786434, 2, 1114112, -786433, 2, 1114112, -786432, 2, 196608, -786431, 2, 196608, -786430, 2, 196608, -786429, 2, 536870913, -786419, 2, 655360, -720900, 2, 655361, -720899, 2, 196608, -720898, 2, 196608, -720897, 2, 196608, -720894, 2, 196608, -720883, 2, 655360, -655363, 2, 196608, -655358, 2, 196608, -655347, 2, 655360, -655342, 2, 131074, -655341, 2, 1179649, -655340, 2, 1179650, -589827, 2, 196608, -589824, 2, 196608, -589823, 2, 196608, -589822, 2, 1245184, -589811, 2, 983040, -589806, 2, 1310720, -589805, 2, 1310720, -589804, 2, 1310720, -524291, 2, 1245184, -524290, 2, 196608, -524289, 2, 196608, -524288, 2, 196608, -524287, 2, 196608, -524286, 2, 196608, -524275, 2, 1441793, -524270, 2, 1048578, -524269, 2, 1048577, -524268, 2, 2, -458755, 2, 196608, -458754, 2, 196608, -458753, 2, 196608, -458750, 2, 0, -393219, 2, 0, -393214, 2, 0, -327683, 2, 0, -327680, 2, 196608, -327679, 2, 196608, -327678, 2, 0, -262147, 2, 0, -262146, 2, 196608, -262145, 2, 196608, -262144, 2, 0, -262143, 2, 0, -262142, 2, 0, -196611, 2, 0, -196610, 2, 0, -196609, 2, 0, -196606, 2, 0, -131075, 2, 0, -131070, 2, 0, -65539, 2, 0, -65536, 2, 0, -65535, 2, 0, -65534, 2, 0, -3, 2, 0, -2, 2, 0, -1, 2, 0, -851968, 3, 1114112, -851967, 3, 1114112, -851966, 3, 1114112, -851965, 3, 1441792, -851964, 3, 720896, -851963, 3, 1507328, -851962, 3, 1507328, -851955, 3, 1048577, -851949, 3, 1048579, -786439, 3, 720896, -786438, 3, 1114112, -786437, 3, 1114112, -786436, 3, 1441792, -786435, 3, 1114112, -786434, 3, 1114112, -786433, 3, 1114112, -786432, 3, 1441793, -786431, 3, 1441793, -786430, 3, 1441793, -786429, 3, 1441794, -786413, 3, 1048580, -720900, 3, 655362, -720899, 3, 1441793, -720898, 3, 1441793, -720897, 3, 1441793, -720877, 3, 1048580, -655342, 3, 131073, -655341, 3, 1048576, -655340, 3, 524289, -589806, 3, 1310720, -589805, 3, 1310720, -589804, 3, 1310720, -524270, 3, 655361, -524269, 3, 1310720, -524268, 3, 1, -851968, 4, 537591808, -851967, 4, 720896, -851966, 4, 720896, -851965, 4, 720896, -851964, 4, 720896, -851963, 4, 1507328, -851962, 4, 1507328, -786439, 4, 720896, -786438, 4, 1507328, -786437, 4, 1507328, -786436, 4, 1507328, -786435, 4, 1507328, -786434, 4, 720896, -786433, 4, 720896, -655342, 4, 1310722, -655341, 4, 458753, -655340, 4, 524290, -589806, 4, 1310720, -589805, 4, 1310720, -589804, 4, 1310720, -524270, 4, 655362, -524269, 4, 1441793, -524268, 4, 1441794, -851968, 5, 1507328, -851967, 5, 720896, -851966, 5, 720896, -851965, 5, 720896, -851964, 5, 720896, -851963, 5, 1507328, -851962, 5, 1507328, -786439, 5, 1507328, -786438, 5, 1507328, -786437, 5, 1507328, -786436, 5, 1507328, -786435, 5, 1507328, -786434, 5, 1507328, -786433, 5, 1507328, -786427, 5, 786432, -786426, 5, 589825, -720903, 5, 655361, -720902, 5, 786432, -720891, 5, 1441794, -655366, 5, 655362, -851968, 6, 1441793, -851967, 6, 1441793, -851966, 6, 1507328, -851965, 6, 1507328, -851964, 6, 1507328, -851963, 6, 1507328, -851962, 6, 1507328, -786439, 6, 1507328, -786438, 6, 1507328, -786437, 6, 1507328, -786436, 6, 1507328, -786435, 6, 1507328, -786434, 6, 1441793, -786433, 6, 1441793, -786427, 6, 1441793, -786426, 6, 1441794, -720903, 6, 655362, -720902, 6, 327681, -655348, 8, 131074, -655347, 8, 1179649, -655346, 8, 1179650, -589812, 8, 1310720, -589811, 8, 1310720, -589810, 8, 1310720, -524276, 8, 1048578, -524275, 8, 1048577, -524274, 8, 2, -851955, 9, 1048579, -786419, 9, 1048580, -720883, 9, 1048580, -655348, 9, 131073, -655347, 9, 1048576, -655346, 9, 524289, -589812, 9, 1310720, -589811, 9, 1310720, -589810, 9, 1310720, -524276, 9, 655361, -524275, 9, 1310720, -524274, 9, 1, -655348, 10, 1310722, -655347, 10, 458753, -655346, 10, 524290, -589812, 10, 1310720, -589811, 10, 1310720, -589810, 10, 1310720, -524276, 10, 655362, -524275, 10, 1441793, -524274, 10, 1441794, -655348, 65525, 131074, -655347, 65525, 1179649, -655346, 65525, 1179650, -589812, 65525, 1310720, -589811, 65525, 1310720, -589810, 65525, 1310720, -524276, 65525, 1048578, -524275, 65525, 1048577, -524274, 65525, 2, -851955, 65526, 1048579, -786419, 65526, 1048580, -720883, 65526, 1048580, -655348, 65526, 131073, -655347, 65526, 1048576, -655346, 65526, 524289, -589812, 65526, 1310720, -589811, 65526, 1310720, -589810, 65526, 1310720, -524276, 65526, 655361, -524275, 65526, 1310720, -524274, 65526, 1, -655348, 65527, 1310722, -655347, 65527, 1310721, -655346, 65527, 524290, -589812, 65527, 1310720, -589811, 65527, 1310720, -589810, 65527, 1310720, -524276, 65527, 655362, -524275, 65527, 1441793, -524274, 65527, 1441794, -851968, 65528, 1048577, -851967, 65528, 1048577, -851966, 65528, 196608, -851965, 65528, 196608, -851964, 65528, 196608, -851963, 65528, 196608, -851962, 65528, 196608, -786439, 65528, 524288, -786438, 65528, 524288, -786437, 65528, 524288, -786436, 65528, 524288, -786435, 65528, 720896, -786434, 65528, 1048577, -786433, 65528, 1048577, -786427, 65528, 851969, -786426, 65528, 2, -720903, 65528, 1048578, -720902, 65528, 1048577, -851968, 65529, 524288, -851967, 65529, 524288, -851966, 65529, 524288, -851965, 65529, 524288, -851964, 65529, 1310720, -851963, 65529, 1310720, -851962, 65529, 65536, -786439, 65529, 524288, -786438, 65529, 524288, -786437, 65529, 524288, -786436, 65529, 524288, -786435, 65529, 524288, -786434, 65529, 524288, -786433, 65529, 524288, -786427, 65529, 851968, -786426, 65529, 589825, -720903, 65529, 655361, -720902, 65529, 786432, -720891, 65529, 2, -655366, 65529, 1048578, -851968, 65530, 524288, -851967, 65530, 524288, -851966, 65530, 524288, -851965, 65530, 524288, -851964, 65530, 1310720, -851963, 65530, 1310720, -851962, 65530, 65536, -786439, 65530, 524288, -786438, 65530, 524288, -786437, 65530, 524288, -786436, 65530, 524288, -786435, 65530, 524288, -786434, 65530, 524288, -786433, 65530, 524288, -851968, 65531, 1179648, -851967, 65531, 1179648, -851966, 65531, 1179648, -851965, 65531, 1179648, -851964, 65531, 1310720, -851963, 65531, 1310720, -851962, 65531, 65536, -786439, 65531, 786432, -786438, 65531, 786432, -786437, 65531, 786432, -786436, 65531, 1179648, -786435, 65531, 1179648, -786434, 65531, 1179648, -786433, 65531, 1179648, -655342, 65531, 131074, -655341, 65531, 1179649, -655340, 65531, 1179650, -589806, 65531, 1310720, -589805, 65531, 1310720, -589804, 65531, 1310720, -524270, 65531, 1048578, -524269, 65531, 1048577, -524268, 65531, 2, -851968, 65532, 1114112, -851967, 65532, 1114112, -851966, 65532, 1114112, -851965, 65532, 851968, -851964, 65532, 1310720, -851963, 65532, 1310720, -851962, 65532, 65536, -851955, 65532, 1441793, -851949, 65532, 1048579, -786439, 65532, 786432, -786438, 65532, 1114112, -786437, 65532, 1179648, -786436, 65532, 1441792, -786435, 65532, 1114112, -786434, 65532, 1114112, -786433, 65532, 1114112, -786432, 65532, 851969, -786431, 65532, 851969, -786430, 65532, 851969, -786429, 65532, 2, -786413, 65532, 1048580, -720900, 65532, 1048578, -720899, 65532, 851969, -720898, 65532, 851969, -720897, 65532, 851969, -720877, 65532, 1048580, -655342, 65532, 131073, -655341, 65532, 1048576, -655340, 65532, 524289, -589806, 65532, 1310720, -589805, 65532, 1310720, -589804, 65532, 538181632, -524270, 65532, 655361, -524269, 65532, 1310720, -524268, 65532, 1, 0, 65533, 1048577, 1, 65533, 851969, 2, 65533, 2, 65533, 65533, 1048578, 65534, 65533, 1048577, 65535, 65533, 1048577, -851968, 65533, 1114112, -851967, 65533, 1114112, -851966, 65533, 1114112, -851965, 65533, 1310720, -851964, 65533, 1310720, -851963, 65533, 1310720, -851962, 65533, 65536, -851955, 65533, 1179649, -786439, 65533, 1114112, -786438, 65533, 1114112, -786437, 65533, 1179648, -786436, 65533, 1114112, -786435, 65533, 1114112, -786434, 65533, 1114112, -786433, 65533, 1114112, -786432, 65533, 196608, -786431, 65533, 196608, -786430, 65533, 196608, -786429, 65533, 1, -786419, 65533, 655360, -720900, 65533, 655361, -720899, 65533, 196608, -720898, 65533, 196608, -720897, 65533, 196608, -720894, 65533, 196608, -720883, 65533, 655360, -655363, 65533, 196608, -655358, 65533, 196608, -655347, 65533, 655360, -655342, 65533, 1310722, -655341, 65533, 458753, -655340, 65533, 524290, -589827, 65533, 196608, -589824, 65533, 196608, -589823, 65533, 196608, -589822, 65533, 196608, -589811, 65533, 983040, -589806, 65533, 1310720, -589805, 65533, 1310720, -589804, 65533, 1310720, -524291, 65533, 1245184, -524290, 65533, 196608, -524289, 65533, 196608, -524288, 65533, 0, -524287, 65533, 0, -524286, 65533, 0, -524275, 65533, 1048577, -524270, 65533, 655362, -524269, 65533, 1441793, -524268, 65533, 1441794, -458755, 65533, 0, -458754, 65533, 0, -458753, 65533, 0, -458750, 65533, 0, -393219, 65533, 0, -393214, 65533, 0, -327683, 65533, 0, -327680, 65533, 1376256, -327679, 65533, 1376256, -327678, 65533, 0, -262147, 65533, 0, -262146, 65533, 1376256, -262145, 65533, 1376256, -262144, 65533, 0, -262143, 65533, 0, -262142, 65533, 0, -196611, 65533, 0, -196610, 65533, 0, -196609, 65533, 0, -196606, 65533, 0, -131075, 65533, 0, -131070, 65533, 0, -65539, 65533, 0, -65536, 65533, 0, -65535, 65533, 0, -65534, 65533, 0, -3, 65533, 0, -2, 65533, 0, -1, 65533, 0, 0, 65534, 0, 1, 65534, 0, 2, 65534, 1, 65533, 65534, 655361, 65534, 65534, 0, 65535, 65534, 0, 65537, 65534, 2, 131070, 65534, 1048578, -851968, 65534, 1114112, -851967, 65534, 1114112, -851966, 65534, 1114112, -851965, 65534, 1114112, -851964, 65534, 1507328, -851963, 65534, 1310720, -851962, 65534, 1, -851956, 65534, 655361, -851955, 65534, 655360, -786439, 65534, 655361, -786438, 65534, 1114112, -786437, 65534, 1179648, -786436, 65534, 1114112, -786435, 65534, 1114112, -786434, 65534, 1114112, -786433, 65534, 1114112, -786432, 65534, 196608, -786431, 65534, 196608, -786430, 65534, 196608, -786429, 65534, 1, -786419, 65534, 1441793, -720900, 65534, 655361, -720899, 65534, 196608, -720898, 65534, 196608, -720897, 65534, 196608, -589822, 65534, 196608, -589811, 65534, 1310721, -524291, 65534, 196608, -524288, 65534, 0, -524287, 65534, 0, -524286, 65534, 0, -524275, 65534, 983040, -458755, 65534, 196608, -458754, 65534, 0, -458753, 65534, 0, -327678, 65534, 1376256, -262147, 65534, 196608, -262144, 65534, 0, -262143, 65534, 0, -262142, 65534, 0, -196611, 65534, 0, -196610, 65534, 0, -196609, 65534, 0, -65534, 65534, 0, -3, 65534, 0, 0, 65535, 0, 1, 65535, 0, 2, 65535, 1, 65533, 65535, 655361, 65534, 65535, 0, 65535, 65535, 0, 131072, 65535, 2, 196607, 65535, 1048578, -851968, 65535, 1114112, -851967, 65535, 1114112, -851966, 65535, 1114112, -851965, 65535, 1114112, -851964, 65535, 1507328, -851963, 65535, 1310720, -851962, 65535, 1, -851956, 65535, 655361, -851955, 65535, 655360, -786439, 65535, 655361, -786438, 65535, 1114112, -786437, 65535, 1179648, -786436, 65535, 1114112, -786435, 65535, 1114112, -786434, 65535, 1114112, -786433, 65535, 1114112, -786432, 65535, 196608, -786431, 65535, 196608, -786430, 65535, 196608, -786429, 65535, 1, -720900, 65535, 655361, -720899, 65535, 196608, -720898, 65535, 196608, -720897, 65535, 196608, -589822, 65535, 196608, -524291, 65535, 196608, -524288, 65535, 0, -524287, 65535, 0, -524286, 65535, 0, -524275, 65535, 983040, -458755, 65535, 196608, -458754, 65535, 0, -458753, 65535, 0, -327678, 65535, 1376256, -262147, 65535, 196608, -262144, 65535, 0, -262143, 65535, 0, -262142, 65535, 0, -196611, 65535, 0, -196610, 65535, 0, -196609, 65535, 0, -65534, 65535, 0, -3, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, -13, 0 )
}

[node name="player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0 )

[node name="StaticBody" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25.25, 0 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
shape = SubResource( 2 )

[node name="StaticBody2" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-008, -1, 0, 1, -4.37114e-008, 0, 23.75, -49 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody2"]
shape = SubResource( 2 )

[node name="StaticBody3" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-008, 1, 0, -1, -4.37114e-008, 0, 23.75, 49 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody3"]
shape = SubResource( 2 )

[node name="StaticBody4" type="StaticBody" parent="."]
transform = Transform( -4.37114e-008, -1, 0, 1, -4.37114e-008, 0, 0, 0, 1, 49, 23.75, 0 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody4"]
shape = SubResource( 2 )

[node name="StaticBody5" type="StaticBody" parent="."]
transform = Transform( -4.37114e-008, 1, 0, -1, -4.37114e-008, 0, 0, 0, 1, -49, 23.75, 0 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody5"]
shape = SubResource( 2 )

[node name="StaticBody6" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, -1, 8.74228e-008, 0, -8.74228e-008, -1, 0, 72.75, 0 )
physics_material_override = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody6"]
shape = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.853553, 0.146447, 0.5, -0.5, 0.5, 0.707107, -0.146447, -0.853553, 0.5, 50, 50, 50 )
shadow_enabled = true

[node name="DirectionalLight2" type="DirectionalLight" parent="."]
transform = Transform( 0.146447, 0.853553, -0.5, -0.5, 0.5, 0.707107, 0.853553, 0.146447, 0.5, -50, 50, 50 )
shadow_enabled = true

[node name="DirectionalLight3" type="DirectionalLight" parent="."]
transform = Transform( -0.220281, 0.837542, -0.5, 0.454519, 0.541675, 0.707107, 0.863069, -0.0714973, -0.5, -50, 50, -50 )
shadow_enabled = true

[node name="DirectionalLight4" type="DirectionalLight" parent="."]
transform = Transform( -0.146447, -0.853553, 0.5, -0.5, 0.5, 0.707107, -0.853553, -0.146447, -0.5, 50, 50, -50 )
shadow_enabled = true

[node name="CPUParticles" type="CPUParticles" parent="."]
transform = Transform( -4.37114e-008, -1, 0, 1, -4.37114e-008, 0, 0, 0, 1, 27, -20.5, 0 )
amount = 1024
mesh = ExtResource( 3 )
spread = 180.0
flatness = 1.0
initial_velocity = 25.0
damping = 70.0
color = Color( 0.109804, 0.815686, 0.337255, 1 )

[node name="Area" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 27, -20, 0 )
script = ExtResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Area"]
transform = Transform( -4.37114e-008, -1, 0, 1, -4.37114e-008, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 3 )
[connection signal="body_entered" from="Area" to="Area" method="_on_Area_body_entered"]
